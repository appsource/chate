(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2168)}])},2168:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eP}});var a,s,l=r(85893),n=r(67294),o=r(53427);(a=s||(s={})).GPT_3_5="gpt-3.5-turbo",a.GPT_4="gpt-4";let i={[s.GPT_3_5]:{id:s.GPT_3_5,name:"Default (GPT-3.5)"},[s.GPT_4]:{id:s.GPT_4,name:"GPT-4"}};var d=r(94568),c=r(21223),x=r(23461);let u=e=>{var t;let{messageIsStreaming:r,model:a,messages:i,onSend:u,onRegenerate:m,stopConversationRef:p,textareaRef:h}=e,{t:g}=(0,o.$G)("chat"),[f,v]=(0,n.useState)(),[b,w]=(0,n.useState)(!1),j=e=>{let t=e.target.value,r=a.id===s.GPT_3_5?12e3:24e3;if(t.length>r){alert(g("Message limit is {{maxLength}} characters. You have entered {{valueLength}} characters.",{maxLength:r,valueLength:t.length}));return}v(t)},y=()=>{if(!r){if(!f){alert(g("Please enter a message"));return}u({role:"user",content:f}),v(""),window.innerWidth<640&&h&&h.current&&h.current.blur()}},k=()=>{let e=void 0===window.navigator?"":navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(e)},N=e=>{b||"Enter"!==e.key||e.shiftKey||k()||(e.preventDefault(),y())};return(0,n.useEffect)(()=>{if(h&&h.current){var e,t;h.current.style.height="inherit",h.current.style.height="".concat(null===(e=h.current)||void 0===e?void 0:e.scrollHeight,"px"),h.current.style.overflow="".concat((null==h?void 0:null===(t=h.current)||void 0===t?void 0:t.scrollHeight)>400?"auto":"hidden")}},[f]),(0,l.jsxs)("div",{className:"absolute bottom-0 left-0 w-full border-transparent pt-6 dark:border-white/20 bg-gradient-to-b from-transparent via-white to-white dark:via-[#343541] dark:to-[#343541] md:pt-2",children:[(0,l.jsxs)("div",{className:"stretch mx-2 mt-4 flex flex-row gap-3 last:mb-2 md:mx-4 md:mt-[52px] md:last:mb-6 lg:mx-auto lg:max-w-3xl",children:[r&&(0,l.jsxs)("button",{className:"absolute -top-2 left-0 right-0 mx-auto w-fit rounded border border-neutral-200 dark:border-neutral-600 py-2 px-4 text-black bg-white dark:bg-[#343541] dark:text-white md:top-0",onClick:function(){p.current=!0,setTimeout(()=>{p.current=!1},1e3)},children:[(0,l.jsx)(d.Z,{size:16,className:"mb-[2px] inline-block"})," ",g("Stop Generating")]}),!r&&i.length>0&&(0,l.jsxs)("button",{className:"absolute -top-2 left-0 right-0 mx-auto w-fit rounded border border-neutral-200 dark:border-neutral-600 py-2 px-4 text-black bg-white dark:bg-[#343541] dark:text-white md:top-0",onClick:m,children:[(0,l.jsx)(c.Z,{size:16,className:"mb-[2px] inline-block"})," ",g("Regenerate response")]}),(0,l.jsxs)("div",{className:"relative flex w-full flex-grow flex-col rounded-md border border-black/10 bg-white py-2 shadow-[0_0_10px_rgba(0,0,0,0.10)] dark:border-gray-900/50 dark:bg-[#40414F] dark:text-white dark:shadow-[0_0_15px_rgba(0,0,0,0.10)] md:py-3 md:pl-4",children:[(0,l.jsx)("textarea",{ref:h,className:"m-0 w-full resize-none border-0 bg-transparent p-0 pr-7 pl-2 text-black outline-none focus:ring-0 focus-visible:ring-0 dark:bg-transparent dark:text-white md:pl-0",style:{resize:"none",bottom:"".concat(null==h?void 0:null===(t=h.current)||void 0===t?void 0:t.scrollHeight,"px"),maxHeight:"400px",overflow:"".concat(h.current&&h.current.scrollHeight>400?"auto":"hidden")},placeholder:g("Type a message...")||"",value:f,rows:1,onCompositionStart:()=>w(!0),onCompositionEnd:()=>w(!1),onChange:j,onKeyDown:N}),(0,l.jsx)("button",{className:"absolute right-3 rounded-sm p-1 text-neutral-800 hover:bg-neutral-200 hover:text-neutral-900 focus:outline-none dark:bg-opacity-50 dark:text-neutral-100 dark:hover:text-neutral-200",onClick:y,children:(0,l.jsx)(x.Z,{size:16,className:"opacity-60"})})]})]}),(0,l.jsxs)("div",{className:"px-3 pt-2 pb-3 text-center text-xs text-black/50 dark:text-white/50 md:px-4 md:pt-3 md:pb-6",children:[(0,l.jsx)("a",{href:"https://github.com/mckaywrigley/chatbot-ui",target:"_blank",rel:"noreferrer",className:"underline",children:"ChatBot UI"}),"."," ",g("Chatbot UI is an advanced chatbot kit for OpenAI's chat models aiming to mimic ChatGPT's interface and functionality.")]})]})};var m=r(10614);let p=()=>(0,l.jsx)("div",{className:"group border-b border-black/10 bg-gray-50 text-gray-800 dark:border-gray-900/50 dark:bg-[#444654] dark:text-gray-100",style:{overflowWrap:"anywhere"},children:(0,l.jsxs)("div",{className:"m-auto flex gap-4 p-4 text-base md:max-w-2xl md:gap-6 md:py-6 lg:max-w-2xl lg:px-0 xl:max-w-3xl",children:[(0,l.jsx)("div",{className:"min-w-[40px] font-bold",children:"AI:"}),(0,l.jsx)(m.Z,{className:"animate-pulse"})]})});var h=r(21942),g=r(16202),f=r(45884),v=r(29758),b=r(30399);let w={javascript:".js",python:".py",java:".java",c:".c",cpp:".cpp","c++":".cpp","c#":".cs",ruby:".rb",php:".php",swift:".swift","objective-c":".m",kotlin:".kt",typescript:".ts",go:".go",perl:".pl",rust:".rs",scala:".scala",haskell:".hs",lua:".lua",shell:".sh",sql:".sql",html:".html",css:".css"},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="ABCDEFGHJKLMNPQRSTUVWXY3456789",a="";for(let t=0;t<e;t++)a+=r.charAt(Math.floor(Math.random()*r.length));return t?a.toLowerCase():a};var y=r(88198),k=r(67828),N=r(80335),C=r(93179),S=r(84283);let I=e=>{let{language:t,value:r}=e,{t:a}=(0,o.$G)("markdown"),[s,i]=(0,n.useState)(!1),d=()=>{navigator.clipboard&&navigator.clipboard.writeText&&navigator.clipboard.writeText(r).then(()=>{i(!0),setTimeout(()=>{i(!1)},2e3)})},c=()=>{let e=w[t]||".file",s="file-".concat(j(3,!0)).concat(e),l=window.prompt(a("Enter file name")||"",s);if(!l)return;let n=new Blob([r],{type:"text/plain"}),o=URL.createObjectURL(n),i=document.createElement("a");i.download=l,i.href=o,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)};return(0,l.jsxs)("div",{className:"codeblock relative font-sans text-[16px]",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between py-1.5 px-4",children:[(0,l.jsx)("span",{className:"text-xs lowercase text-white",children:t}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)("button",{className:"flex items-center rounded bg-none py-0.5 px-2 text-xs text-white focus:outline-none",onClick:d,children:[s?(0,l.jsx)(y.Z,{size:18,className:"mr-1.5"}):(0,l.jsx)(k.Z,{size:18,className:"mr-1.5"}),s?a("Copied!"):a("Copy code")]}),(0,l.jsx)("button",{className:"flex items-center rounded bg-none py-0.5 pl-2 text-xs text-white focus:outline-none",onClick:c,children:(0,l.jsx)(N.Z,{size:18})})]})]}),(0,l.jsx)(C.Z,{language:t,style:S.vk,customStyle:{margin:0},children:r})]})};var P=r(93625);let z=e=>{let{messagedCopied:t,copyOnClick:r}=e;return(0,l.jsx)("button",{className:"absolute ".concat(window.innerWidth<640?"right-3 bottom-1":"right-[-20px] top-[26px] m-0"),children:t?(0,l.jsx)(y.Z,{size:20,className:"text-green-500 dark:text-green-400"}):(0,l.jsx)(P.Z,{size:20,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",onClick:r})})},E=e=>{let{message:t,messageIndex:r,onEditMessage:a}=e,{t:s}=(0,o.$G)("chat"),[i,d]=(0,n.useState)(!1),[c,x]=(0,n.useState)(!1),[u,m]=(0,n.useState)(t.content),[p,w]=(0,n.useState)(!1),j=(0,n.useRef)(null),y=()=>{d(!i)},k=e=>{m(e.target.value),j.current&&(j.current.style.height="inherit",j.current.style.height="".concat(j.current.scrollHeight,"px"))},N=()=>{t.content!=u&&a({...t,content:u},r),d(!1)},C=e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),N())},S=()=>{navigator.clipboard&&navigator.clipboard.writeText(t.content).then(()=>{w(!0),setTimeout(()=>{w(!1)},2e3)})};return(0,n.useEffect)(()=>{j.current&&(j.current.style.height="inherit",j.current.style.height="".concat(j.current.scrollHeight,"px"))},[i]),(0,l.jsx)("div",{className:"group ".concat("assistant"===t.role?"border-b border-black/10 bg-gray-50 text-gray-800 dark:border-gray-900/50 dark:bg-[#444654] dark:text-gray-100":"border-b border-black/10 bg-white text-gray-800 dark:border-gray-900/50 dark:bg-[#343541] dark:text-gray-100"),style:{overflowWrap:"anywhere"},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:(0,l.jsxs)("div",{className:"relative m-auto flex gap-4 p-4 text-base md:max-w-2xl md:gap-6 md:py-6 lg:max-w-2xl lg:px-0 xl:max-w-3xl",children:[(0,l.jsxs)("div",{className:"min-w-[40px] font-bold",children:[s("assistant"===t.role?"AI":"You"),":"]}),(0,l.jsx)("div",{className:"prose mt-[-2px] w-full dark:prose-invert",children:"user"===t.role?(0,l.jsxs)("div",{className:"flex w-full",children:[i?(0,l.jsxs)("div",{className:"flex w-full flex-col",children:[(0,l.jsx)("textarea",{ref:j,className:"w-full resize-none whitespace-pre-wrap border-none outline-none dark:bg-[#343541]",value:u,onChange:k,onKeyDown:C,style:{fontFamily:"inherit",fontSize:"inherit",lineHeight:"inherit",padding:"0",margin:"0",overflow:"hidden"}}),(0,l.jsxs)("div",{className:"mt-10 flex justify-center space-x-4",children:[(0,l.jsx)("button",{className:"h-[40px] rounded-md bg-blue-500 px-4 py-1 text-sm font-medium text-white enabled:hover:bg-blue-600 disabled:opacity-50",onClick:N,disabled:u.trim().length<=0,children:s("Save & Submit")}),(0,l.jsx)("button",{className:"h-[40px] rounded-md border border-neutral-300 px-4 py-1 text-sm font-medium text-neutral-700 hover:bg-neutral-100 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-800",onClick:()=>{m(t.content),d(!1)},children:s("Cancel")})]})]}):(0,l.jsx)("div",{className:"prose whitespace-pre-wrap dark:prose-invert",children:t.content}),(c||window.innerWidth<640)&&!i&&(0,l.jsx)("button",{className:"absolute ".concat(window.innerWidth<640?"right-3 bottom-1":"right-[-20px] top-[26px]"),children:(0,l.jsx)(h.Z,{size:20,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",onClick:y})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.D,{className:"prose dark:prose-invert",remarkPlugins:[v.Z,b.Z],rehypePlugins:[f.Z],components:{code(e){let{node:t,inline:r,className:a,children:s,...n}=e,o=/language-(\w+)/.exec(a||"");return!r&&o?(0,l.jsx)(I,{language:o[1],value:String(s).replace(/\n$/,""),...n},Math.random()):(0,l.jsx)("code",{className:a,...n,children:s})},table(e){let{children:t}=e;return(0,l.jsx)("table",{className:"border-collapse border border-black py-1 px-3 dark:border-white",children:t})},th(e){let{children:t}=e;return(0,l.jsx)("th",{className:"break-words border border-black bg-gray-500 py-1 px-3 text-white dark:border-white",children:t})},td(e){let{children:t}=e;return(0,l.jsx)("td",{className:"break-words border border-black py-1 px-3 dark:border-white",children:t})}},children:t.content}),(c||window.innerWidth<640)&&(0,l.jsx)(z,{messagedCopied:p,copyOnClick:S})]})})]})})},T=e=>{let{error:t}=e;return(0,l.jsxs)("div",{className:"mx-auto flex h-full w-[300px] flex-col justify-center space-y-6 sm:w-[500px]",children:[(0,l.jsxs)("div",{className:"text-center text-red-500",children:[t.title," ",t.code?(0,l.jsxs)("i",{children:["(",t.code,") "]}):""]}),t.messageLines.map((e,t)=>(0,l.jsxs)("div",{className:"text-center text-red-500",children:[" ",e," "]},t))]})},_=e=>{let{model:t,models:r,onModelChange:a}=e,{t:s}=(0,o.$G)("chat");return(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("label",{className:"mb-2 text-left text-neutral-700 dark:text-neutral-400",children:s("Model")}),(0,l.jsx)("div",{className:"w-full rounded-lg border border-neutral-200 bg-transparent pr-2 text-neutral-900 dark:border-neutral-600 dark:text-white",children:(0,l.jsx)("select",{className:"w-full bg-transparent p-2 outline-0",placeholder:s("Select a model")||"",value:t.id,onChange:e=>{a(r.find(t=>t.id===e.target.value))},children:r.map(e=>(0,l.jsx)("option",{value:e.id,className:"dark:bg-[#343541] dark:text-white",children:e.name},e.id))})})]})};var Z=r(83454);let O="You are ChatGPT, a large language model trained by OpenAI. Follow the user's instructions carefully. Respond using markdown.",D=Z.env.OPENAI_API_HOST||"https://api.openai.com",A=e=>{var t;let{conversation:r,onChangePrompt:a}=e,{t:s}=(0,o.$G)("chat"),[i,d]=(0,n.useState)(""),c=(0,n.useRef)(null),x=e=>{let t=e.target.value;if(t.length>4e3){alert(s("Prompt limit is {{maxLength}} characters",{maxLength:4e3}));return}d(t),t.length>0&&a(t)};return(0,n.useEffect)(()=>{if(c&&c.current){var e;c.current.style.height="inherit",c.current.style.height="".concat(null===(e=c.current)||void 0===e?void 0:e.scrollHeight,"px")}},[i]),(0,n.useEffect)(()=>{r.prompt?d(r.prompt):d(O)},[r]),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("label",{className:"mb-2 text-left text-neutral-700 dark:text-neutral-400",children:s("System Prompt")}),(0,l.jsx)("textarea",{ref:c,className:"w-full rounded-lg border border-neutral-200 px-4 py-3 text-neutral-900 focus:outline-none bg-transparent dark:border-neutral-600 dark:text-neutral-100",style:{resize:"none",bottom:"".concat(null==c?void 0:null===(t=c.current)||void 0===t?void 0:t.scrollHeight,"px"),maxHeight:"300px",overflow:"".concat(c.current&&c.current.scrollHeight>400?"auto":"hidden")},placeholder:s("Enter a prompt")||"",value:s(i)||"",rows:1,onChange:x})]})};var G=r(33111);let L=e=>{let{conversation:t,models:r,apiKey:a,serverSideApiKeyIsSet:s,messageIsStreaming:i,modelError:d,messageError:c,loading:x,onSend:m,onUpdateConversation:h,onEditMessage:g,stopConversationRef:f}=e,{t:v}=(0,o.$G)("chat"),[b,w]=(0,n.useState)(),[j,y]=(0,n.useState)(!0),[k,N]=(0,n.useState)(!1),C=(0,n.useRef)(null),S=(0,n.useRef)(null),I=(0,n.useRef)(null),P=(0,n.useCallback)(()=>{if(j){var e,t;null===(e=C.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}),null===(t=I.current)||void 0===t||t.focus()}},[j]),z=()=>{if(S.current){let{scrollTop:e,scrollHeight:t,clientHeight:r}=S.current;e+r<t-5?y(!1):y(!0)}},Z=()=>{N(!k)};return(0,n.useEffect)(()=>{P(),w(t.messages[t.messages.length-2])},[t.messages,P]),(0,n.useEffect)(()=>{let e=S.current;if(e)return e.addEventListener("scroll",z),()=>{e.removeEventListener("scroll",z)}},[]),(0,l.jsx)("div",{className:"overflow-none relative flex-1 bg-white dark:bg-[#343541]",children:a||s?d?(0,l.jsx)(T,{error:d}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"max-h-full overflow-scroll",ref:S,children:0===t.messages.length?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"mx-auto flex w-[350px] flex-col space-y-10 pt-12 sm:w-[600px]",children:[(0,l.jsx)("div",{className:"text-center text-3xl font-semibold text-gray-800 dark:text-gray-100",children:0===r.length?v("Loading..."):"Chatbot UI"}),r.length>0&&(0,l.jsxs)("div",{className:"flex h-full flex-col space-y-4 rounded border border-neutral-200 p-4 dark:border-neutral-600",children:[(0,l.jsx)(_,{model:t.model,models:r,onModelChange:e=>h(t,{key:"model",value:e})}),(0,l.jsx)(A,{conversation:t,onChangePrompt:e=>h(t,{key:"prompt",value:e})})]})]})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex justify-center border border-b-neutral-300 bg-neutral-100 py-2 text-sm text-neutral-500 dark:border-none dark:bg-[#444654] dark:text-neutral-200",children:[v("Model"),": ",t.model.name,(0,l.jsx)(G.Z,{className:"ml-2 cursor-pointer hover:opacity-50",onClick:Z,size:18})]}),k&&(0,l.jsx)("div",{className:"mx-auto flex w-[200px] flex-col space-y-10 pt-8 sm:w-[300px]",children:(0,l.jsx)("div",{className:"flex h-full flex-col space-y-4 rounded border border-neutral-500 p-2",children:(0,l.jsx)(_,{model:t.model,models:r,onModelChange:e=>h(t,{key:"model",value:e})})})}),t.messages.map((e,t)=>(0,l.jsx)(E,{message:e,messageIndex:t,onEditMessage:g},t)),x&&(0,l.jsx)(p,{}),(0,l.jsx)("div",{className:"h-[162px] bg-white dark:bg-[#343541]",ref:C})]})}),(0,l.jsx)(u,{stopConversationRef:f,textareaRef:I,messageIsStreaming:i,messages:t.messages,model:t.model,onSend:e=>{w(e),m(e)},onRegenerate:()=>{b&&m(b,2)}})]}):(0,l.jsxs)("div",{className:"mx-auto flex h-full w-[300px] flex-col justify-center space-y-6 sm:w-[500px]",children:[(0,l.jsx)("div",{className:"text-center text-2xl font-semibold text-gray-800 dark:text-gray-100",children:v("OpenAI API Key Required")}),(0,l.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:v("Please set your OpenAI API key in the bottom left of the sidebar.")}),(0,l.jsxs)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[v("If you don't have an OpenAI API key, you can get one here: "),(0,l.jsx)("a",{href:"https://shop.habab.ru/",target:"_blank",rel:"noreferrer",className:"text-blue-500 hover:underline",children:"https://shop.habab.ru/"})]})]})})};var R=r(1177);let U=e=>{let{selectedConversation:t,onNewConversation:r}=e;return(0,l.jsxs)("nav",{className:"flex w-full justify-between bg-[#202123] py-3 px-4",children:[(0,l.jsx)("div",{className:"mr-4"}),(0,l.jsx)("div",{className:"max-w-[240px] overflow-hidden text-ellipsis whitespace-nowrap",children:t.name}),(0,l.jsx)(R.Z,{className:"cursor-pointer hover:text-neutral-400",onClick:r})]})};var K=r(16745),M=r(89014),F=r(55814),H=r(47447),J=r(97283),$=r(30471),W=r(74075);let B=e=>{let{selectedConversation:t,conversation:r,loading:a,onSelectConversation:s,onDeleteConversation:o,onUpdateConversation:i}=e,[d,c]=(0,n.useState)(!1),[x,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)(""),h=e=>{"Enter"===e.key&&(e.preventDefault(),f(t))},g=(e,t)=>{e.dataTransfer&&e.dataTransfer.setData("conversation",JSON.stringify(t))},f=e=>{i(e,{key:"name",value:m}),p(""),u(!1)};return(0,n.useEffect)(()=>{x?c(!1):d&&u(!1)},[x,d]),(0,l.jsxs)("div",{className:"relative flex items-center",children:[x&&t.id===r.id?(0,l.jsxs)("div",{className:"flex w-full items-center gap-3 bg-[#343541]/90 p-3",children:[(0,l.jsx)(H.Z,{size:18}),(0,l.jsx)("input",{className:"mr-12 flex-1 overflow-hidden text-[12.5px] leading-3 overflow-ellipsis border-neutral-400 bg-transparent text-left text-white outline-none focus:border-neutral-100",type:"text",value:m,onChange:e=>p(e.target.value),onKeyDown:h,autoFocus:!0})]}):(0,l.jsxs)("button",{className:"flex w-full cursor-pointer items-center gap-3 rounded-lg p-3 text-sm transition-colors duration-200 hover:bg-[#343541]/90 ".concat(a?"disabled:cursor-not-allowed":""," ").concat(t.id===r.id?"bg-[#343541]/90":""),onClick:()=>s(r),disabled:a,draggable:"true",onDragStart:e=>g(e,r),children:[(0,l.jsx)(H.Z,{size:18}),(0,l.jsx)("div",{className:"relative max-h-5 flex-1 text-[12.5px] leading-3 overflow-hidden text-ellipsis whitespace-nowrap break-all text-left ".concat(t.id===r.id?"pr-12":"pr-1"),children:r.name})]}),(d||x)&&t.id===r.id&&(0,l.jsxs)("div",{className:"visible absolute right-1 z-10 flex text-gray-300",children:[(0,l.jsx)("button",{className:"min-w-[20px] p-1 text-neutral-400 hover:text-neutral-100",onClick:e=>{e.stopPropagation(),d?o(r):x&&f(r),c(!1),u(!1)},children:(0,l.jsx)(y.Z,{size:18})}),(0,l.jsx)("button",{className:"min-w-[20px] p-1 text-neutral-400 hover:text-neutral-100",onClick:e=>{e.stopPropagation(),c(!1),u(!1)},children:(0,l.jsx)(J.Z,{size:18})})]}),t.id===r.id&&!d&&!x&&(0,l.jsxs)("div",{className:"visible absolute right-1 z-10 flex text-gray-300",children:[(0,l.jsx)("button",{className:"min-w-[20px] p-1 text-neutral-400 hover:text-neutral-100",onClick:e=>{e.stopPropagation(),u(!0),p(t.name)},children:(0,l.jsx)($.Z,{size:18})}),(0,l.jsx)("button",{className:"min-w-[20px] p-1 text-neutral-400 hover:text-neutral-100",onClick:e=>{e.stopPropagation(),c(!0)},children:(0,l.jsx)(W.Z,{size:18})})]})]})},q=e=>{let{loading:t,conversations:r,selectedConversation:a,onSelectConversation:s,onDeleteConversation:n,onUpdateConversation:o}=e;return(0,l.jsx)("div",{className:"flex w-full flex-col gap-1 pt-2",children:r.slice().reverse().map((e,r)=>(0,l.jsx)(B,{selectedConversation:a,conversation:e,loading:t,onSelectConversation:s,onDeleteConversation:n,onUpdateConversation:o},r))})};var Y=r(87664),X=r(62577);let V=e=>{let{searchTerm:t,conversations:r,currentFolder:a,onDeleteFolder:s,onUpdateFolder:o,selectedConversation:i,loading:d,onSelectConversation:c,onDeleteConversation:x,onUpdateConversation:u}=e,[m,p]=(0,n.useState)(!1),[h,g]=(0,n.useState)(!1),[f,v]=(0,n.useState)(""),[b,w]=(0,n.useState)(!1),j=e=>{"Enter"===e.key&&(e.preventDefault(),k())},k=()=>{o(a.id,f),v(""),g(!1)},N=(e,t)=>{if(e.dataTransfer){w(!0);let r=JSON.parse(e.dataTransfer.getData("conversation"));u(r,{key:"folderId",value:t.id}),e.target.style.background="none"}},C=e=>{e.preventDefault()},S=e=>{e.target.style.background="#343541"},I=e=>{e.target.style.background="none"};return(0,n.useEffect)(()=>{h?p(!1):m&&g(!1)},[h,m]),(0,n.useEffect)(()=>{t?w(!0):w(!1)},[t]),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mb-1 flex cursor-pointer items-center gap-3 rounded-lg px-3 py-2 text-[12px] leading-normal transition-colors duration-200 hover:bg-[#343541]/90",onClick:()=>w(!b),onDrop:e=>N(e,a),onDragOver:C,onDragEnter:S,onDragLeave:I,children:[b?(0,l.jsx)(Y.Z,{size:16}):(0,l.jsx)(X.Z,{size:16}),h?(0,l.jsx)("input",{className:"flex-1 overflow-hidden overflow-ellipsis border-b border-neutral-400 bg-transparent pr-1 text-left text-white outline-none focus:border-neutral-100",type:"text",value:f,onChange:e=>v(e.target.value),onKeyDown:j,autoFocus:!0}):(0,l.jsx)("div",{className:"flex-1 overflow-hidden overflow-ellipsis whitespace-nowrap pr-1 text-left",children:a.name}),(m||h)&&(0,l.jsxs)("div",{className:"-ml-2 flex gap-1",children:[(0,l.jsx)(y.Z,{className:"min-w-[20px] text-neutral-400 hover:text-neutral-100",size:16,onClick:e=>{e.stopPropagation(),m?s(a.id):h&&k(),p(!1),g(!1)}}),(0,l.jsx)(J.Z,{className:"min-w-[20px] text-neutral-400 hover:text-neutral-100",size:16,onClick:e=>{e.stopPropagation(),p(!1),g(!1)}})]}),!m&&!h&&(0,l.jsxs)("div",{className:"ml-2 flex gap-1",children:[(0,l.jsx)($.Z,{className:"min-w-[20px] text-neutral-400 hover:text-neutral-100",size:18,onClick:e=>{e.stopPropagation(),g(!0),v(a.name)}}),(0,l.jsx)(W.Z,{className:" min-w-[20px] text-neutral-400 hover:text-neutral-100",size:18,onClick:e=>{e.stopPropagation(),p(!0)}})]})]}),b?r.map((e,t)=>{if(e.folderId===a.id)return(0,l.jsx)("div",{className:"ml-5 gap-2 border-l pl-2 pt-2",children:(0,l.jsx)(B,{selectedConversation:i,conversation:e,loading:d,onSelectConversation:c,onDeleteConversation:x,onUpdateConversation:u})},t)}):null]})},Q=e=>{let{searchTerm:t,conversations:r,folders:a,onDeleteFolder:s,onUpdateFolder:n,selectedConversation:o,loading:i,onSelectConversation:d,onDeleteConversation:c,onUpdateConversation:x}=e;return(0,l.jsx)("div",{className:"flex w-full flex-col gap-1 pt-2",children:a.map((e,a)=>(0,l.jsx)(V,{searchTerm:t,conversations:r.filter(e=>e.folderId),currentFolder:e,onDeleteFolder:s,onUpdateFolder:n,selectedConversation:o,loading:i,onSelectConversation:d,onDeleteConversation:c,onUpdateConversation:x},a))})},ee=e=>{let{searchTerm:t,onSearch:r}=e,{t:a}=(0,o.$G)("sidebar"),s=e=>{r(e.target.value)},n=()=>{r("")};return(0,l.jsxs)("div",{className:"relative flex items-center",children:[(0,l.jsx)("input",{className:"w-full flex-1 rounded-md border border-neutral-600 bg-[#202123] px-4 py-3 pr-10 text-[12px] leading-3 text-white",type:"text",placeholder:a("Search conversations...")||"",value:t,onChange:s}),t&&(0,l.jsx)(J.Z,{className:"absolute right-4 cursor-pointer text-neutral-300 hover:text-neutral-400",size:18,onClick:n})]})};var et=r(75846),er=r(51047),ea=r(64738);let es=e=>{let{text:t,icon:r,onClick:a}=e;return(0,l.jsxs)("button",{className:"flex w-full cursor-pointer select-none items-center gap-3 rounded-md py-3 px-3 text-[12.5px] leading-3 text-white transition-colors duration-200 hover:bg-gray-500/10",onClick:a,children:[(0,l.jsx)("div",{children:r}),(0,l.jsx)("span",{children:t})]})},el=e=>{let{onClearConversations:t}=e,[r,a]=(0,n.useState)(!1),{t:s}=(0,o.$G)("sidebar"),i=()=>{t(),a(!1)};return r?(0,l.jsxs)("div",{className:"flex w-full cursor-pointer items-center rounded-md py-3 px-3 hover:bg-[#343541]",children:[(0,l.jsx)(W.Z,{size:18}),(0,l.jsx)("div",{className:"ml-3 flex-1 text-left text-[12.5px] leading-3 text-white",children:s("Are you sure?")}),(0,l.jsxs)("div",{className:"flex w-[40px]",children:[(0,l.jsx)(y.Z,{className:"ml-auto min-w-[20px] mr-1 text-neutral-400 hover:text-neutral-100",size:18,onClick:e=>{e.stopPropagation(),i()}}),(0,l.jsx)(J.Z,{className:"ml-auto min-w-[20px] text-neutral-400 hover:text-neutral-100",size:18,onClick:e=>{e.stopPropagation(),a(!1)}})]})]}):(0,l.jsx)(es,{text:s("Clear conversations"),icon:(0,l.jsx)(W.Z,{size:18}),onClick:()=>a(!0)})},en=e=>{let t=e;return t.model||(t={...t,model:t.model||i[s.GPT_3_5]}),t.prompt||(t={...t,prompt:t.prompt||O}),t.folderId||(t={...t,folderId:t.folderId||0}),t},eo=e=>e.reduce((e,t)=>{try{t.model||(t.model=i[s.GPT_3_5]),t.prompt||(t.prompt=O),t.folderId||(t.folderId=0),e.push(t)}catch(e){console.warn("error while cleaning conversations' history. Removing culprit",e)}return e},[]);var ei=r(52216);let ed=e=>{let{onImport:t}=e,{t:r}=(0,o.$G)("sidebar");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{id:"import-file",className:"sr-only",tabIndex:-1,type:"file",accept:".json",onChange:e=>{var r;if(!(null===(r=e.target.files)||void 0===r?void 0:r.length))return;let a=e.target.files[0],s=new FileReader;s.onload=e=>{var r;let a=JSON.parse(null===(r=e.target)||void 0===r?void 0:r.result);a&&!a.folders&&(a={history:eo(a),folders:[]}),t({conversations:a.history,folders:a.folders})},s.readAsText(a)}}),(0,l.jsx)(es,{text:r("Import conversations"),icon:(0,l.jsx)(ei.Z,{size:18}),onClick:()=>{let e=document.querySelector("#import-file");e&&e.click()}})]})};var ec=r(35336);let ex=e=>{let{apiKey:t,onApiKeyChange:r}=e,{t:a}=(0,o.$G)("sidebar"),[s,i]=(0,n.useState)(!1),[d,c]=(0,n.useState)(t),x=e=>{"Enter"===e.key&&(e.preventDefault(),u(d))},u=e=>{r(e.trim()),i(!1)};return s?(0,l.jsxs)("div",{className:"duration:200 flex w-full cursor-pointer items-center rounded-md py-3 px-3 transition-colors hover:bg-gray-500/10",children:[(0,l.jsx)(ec.Z,{size:18}),(0,l.jsx)("input",{className:"ml-2 h-[20px] flex-1 overflow-hidden overflow-ellipsis border-b border-neutral-400 bg-transparent pr-1 text-left text-white outline-none focus:border-neutral-100",type:"password",value:d,onChange:e=>c(e.target.value),onKeyDown:x,placeholder:a("API Key")||"API Key"}),(0,l.jsxs)("div",{className:"flex w-[40px]",children:[(0,l.jsx)(y.Z,{className:"ml-auto min-w-[20px] text-neutral-400 hover:text-neutral-100",size:18,onClick:e=>{e.stopPropagation(),u(d)}}),(0,l.jsx)(J.Z,{className:"ml-auto min-w-[20px] text-neutral-400 hover:text-neutral-100",size:18,onClick:e=>{e.stopPropagation(),i(!1),c(t)}})]})]}):(0,l.jsx)(es,{text:a("OpenAI API Key"),icon:(0,l.jsx)(ec.Z,{size:18}),onClick:()=>i(!0)})},eu=e=>{let{lightMode:t,apiKey:r,onToggleLightMode:a,onApiKeyChange:s,onClearConversations:n,onExportConversations:i,onImportConversations:d}=e,{t:c}=(0,o.$G)("sidebar");return(0,l.jsxs)("div",{className:"flex flex-col items-center space-y-1 border-t border-white/20 pt-1 text-sm",children:[(0,l.jsx)(el,{onClearConversations:n}),(0,l.jsx)(ed,{onImport:d}),(0,l.jsx)(es,{text:c("Export conversations"),icon:(0,l.jsx)(et.Z,{size:18}),onClick:()=>i()}),(0,l.jsx)(es,{text:c("light"===t?"Dark mode":"Light mode"),icon:"light"===t?(0,l.jsx)(er.Z,{size:18}):(0,l.jsx)(ea.Z,{size:18}),onClick:()=>a("light"===t?"dark":"light")}),(0,l.jsx)(ex,{apiKey:r,onApiKeyChange:s})]})},em=e=>{let{loading:t,conversations:r,lightMode:a,selectedConversation:s,apiKey:i,folders:d,onCreateFolder:c,onDeleteFolder:x,onUpdateFolder:u,onNewConversation:m,onToggleLightMode:p,onSelectConversation:h,onDeleteConversation:g,onToggleSidebar:f,onUpdateConversation:v,onApiKeyChange:b,onClearConversations:w,onExportConversations:j,onImportConversations:y}=e,{t:k}=(0,o.$G)("sidebar"),[N,C]=(0,n.useState)(""),[S,I]=(0,n.useState)(r),P=(e,t)=>{v(e,t),C("")},z=e=>{g(e),C("")},E=e=>{if(e.dataTransfer){let t=JSON.parse(e.dataTransfer.getData("conversation"));v(t,{key:"folderId",value:0}),e.target.style.background="none"}},T=e=>{e.preventDefault()},_=e=>{e.target.style.background="#343541"},Z=e=>{e.target.style.background="none"};return(0,n.useEffect)(()=>{N?I(r.filter(e=>{let t=e.name.toLocaleLowerCase()+" "+e.messages.map(e=>e.content).join(" ");return t.toLowerCase().includes(N.toLowerCase())})):I(r)},[N,r]),(0,l.jsxs)("aside",{className:"fixed top-0 bottom-0 z-50 flex h-full w-[260px] flex-none flex-col space-y-2 bg-[#202123] p-2 transition-all sm:relative sm:top-0",children:[(0,l.jsxs)("header",{className:"flex items-center",children:[(0,l.jsxs)("button",{className:"flex w-[190px] flex-shrink-0 cursor-pointer items-center gap-3 rounded-md border border-white/20 p-3 text-[12.5px] leading-3 text-white transition-colors duration-200 select-none hover:bg-gray-500/10",onClick:()=>{m(),C("")},children:[(0,l.jsx)(R.Z,{size:18}),k("New chat")]}),(0,l.jsx)("button",{className:"ml-2 flex flex-shrink-0 cursor-pointer items-center gap-3 rounded-md border border-white/20 p-3 text-[12.5px] leading-3 text-white transition-colors duration-200 hover:bg-gray-500/10",onClick:()=>c(k("New folder")),children:(0,l.jsx)(K.Z,{size:18})}),(0,l.jsx)(M.Z,{className:"ml-1 hidden cursor-pointer p-1 text-neutral-300 hover:text-neutral-400 sm:flex",size:32,onClick:f})]}),r.length>1&&(0,l.jsx)(ee,{searchTerm:N,onSearch:C}),(0,l.jsxs)("div",{className:"flex-grow overflow-y-auto overflow-x-clip",children:[d.length>0&&(0,l.jsx)("div",{className:"flex border-b border-white/20 pb-2",children:(0,l.jsx)(Q,{searchTerm:N,conversations:S.filter(e=>0!==e.folderId),folders:d,onDeleteFolder:x,onUpdateFolder:u,selectedConversation:s,loading:t,onSelectConversation:h,onDeleteConversation:z,onUpdateConversation:P})}),r.length>0?(0,l.jsx)("div",{className:"h-full pt-2",onDrop:e=>E(e),onDragOver:T,onDragEnter:_,onDragLeave:Z,children:(0,l.jsx)(q,{loading:t,conversations:S.filter(e=>0===e.folderId||!d[e.folderId-1]),selectedConversation:s,onSelectConversation:h,onDeleteConversation:z,onUpdateConversation:P})}):(0,l.jsxs)("div",{className:"mt-8 text-white text-center opacity-50 select-none",children:[(0,l.jsx)(F.Z,{className:"mx-auto mb-3"}),(0,l.jsx)("span",{className:"text-[12.5px] leading-3",children:k("No conversations.")})]})]}),(0,l.jsx)(eu,{lightMode:a,apiKey:i,onToggleLightMode:p,onApiKeyChange:b,onClearConversations:w,onExportConversations:j,onImportConversations:y})]})},ep=(e,t)=>{let r=t.map(t=>t.id===e.id?e:t);return eh(e),eg(r),{single:e,all:r}},eh=e=>{localStorage.setItem("selectedConversation",JSON.stringify(e))},eg=e=>{localStorage.setItem("conversationHistory",JSON.stringify(e))},ef=e=>{localStorage.setItem("folders",JSON.stringify(e))},ev=()=>{let e=localStorage.getItem("conversationHistory"),t=localStorage.getItem("folders");e&&(e=JSON.parse(e)),t&&(t=JSON.parse(t));let r={history:e,folders:t},a=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),s=URL.createObjectURL(a),l=document.createElement("a");l.download="chatbot_ui_history_".concat(function(){let e=new Date,t=e.getMonth()+1,r=e.getDate();return"".concat(t,"-").concat(r)}(),".json"),l.href=s,l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s)},eb=(e,t)=>{localStorage.setItem("conversationHistory",JSON.stringify(e)),localStorage.setItem("selectedConversation",JSON.stringify(e[e.length-1])),localStorage.setItem("folders",JSON.stringify(t))};var ew=r(98963),ej=r(9008),ey=r.n(ej);let ek=async e=>{try{let{key:t}=e,r=await fetch("".concat(D,"/v1/models"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(401===r.status)return{error:401,headers:r.headers};if(200!==r.status)throw console.error("OpenAI API returned an error ".concat(r.status,": ").concat(await r.text())),Error("OpenAI API returned an error");let a=await r.json(),l=a.data.map(e=>{for(let[t,r]of Object.entries(s))if(r===e.id)return{id:e.id,name:i[r].name}}).filter(Boolean);return{ok:!0,data:l}}catch(e){return console.error(e),{error:e}}};var eN=r(76812);let eC=async(e,t,r,a)=>{let s=await fetch("".concat(D,"/v1/chat/completions"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},method:"POST",body:JSON.stringify({model:e.id,messages:[{role:"system",content:t},...a],max_tokens:1e3,temperature:1,stream:!0})});if(200!==s.status){let e=s.statusText;throw Error("OpenAI API returned an error: ".concat(e))}let l=new TextEncoder,n=new TextDecoder,o=new ReadableStream({async start(e){let t=t=>{if("event"===t.type){let r=t.data;if("[DONE]"===r){e.close();return}try{let t=JSON.parse(r),a=t.choices[0].delta.content,s=l.encode(a);e.enqueue(s)}catch(t){e.error(t)}}},r=(0,eN.j)(t),a=s.body.getReader();for(;;){let{done:e,value:t}=await a.read();if(e)break;r.feed(n.decode(t))}}});return o},eS=async e=>{try{let{model:t,messages:r,key:a,prompt:s}=e,l=s;l||(l=O);let n=[];for(let e=r.length-1;e>=0;e--){let t=r[e];n=[t,...n]}let o=await eC(t,l,a,n);return o}catch(e){return console.error(e),{error:e}}},eI=e=>{let{serverSideApiKeyIsSet:t}=e,{t:r}=(0,o.$G)("chat"),[a,d]=(0,n.useState)([]),[c,x]=(0,n.useState)([]),[u,m]=(0,n.useState)(),[p,h]=(0,n.useState)(!1),[g,f]=(0,n.useState)([]),[v,b]=(0,n.useState)("dark"),[w,j]=(0,n.useState)(!1),[y,k]=(0,n.useState)(!0),[N,C]=(0,n.useState)(""),[S,I]=(0,n.useState)(!1),[P,z]=(0,n.useState)(null),[E,T]=(0,n.useState)(),_=(0,n.useRef)(!1),Z=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(u){let r;if(t){let a=[...u.messages];for(let e=0;e<t;e++)a.pop();r={...u,messages:[...a,e]}}else r={...u,messages:[...u.messages,e]};m(r),h(!0),j(!0),I(!1);let a={model:r.model,messages:r.messages,key:N,prompt:r.prompt},s=new AbortController,l=await eS(a);if(1===r.messages.length){let{content:t}=e,a=t.length>30?t.substring(0,30)+"...":t;r={...r,name:a}}h(!1);let n=l.getReader(),o=new TextDecoder,i=!1,d=!0,p="";for(;!i;){if(!0===_.current){s.abort(),i=!0;break}let{value:e,done:t}=await n.read();i=t;let a=o.decode(e);if(p+=a,d){d=!1;let e=[...r.messages,{role:"assistant",content:a}];m(r={...r,messages:e})}else{let e=r.messages.map((e,t)=>t===r.messages.length-1?{...e,content:p}:e);m(r={...r,messages:e})}}eh(r);let g=c.map(e=>e.id===u.id?r:e);0===g.length&&g.push(r),x(g),eg(g),j(!1)}},D=async e=>{let t={title:r("Error fetching models."),code:null,messageLines:[r("Make sure your OpenAI API key is set in the bottom left of the sidebar."),r("If you completed this step, OpenAI may be experiencing issues.")]},a=await ek({key:e}),s=a.data;if(!s){z(t);return}f(s),z(null)},A=e=>{b(e),localStorage.setItem("theme",e)},G=e=>{C(e),localStorage.setItem("apiKey",e)},R=()=>{ev()},K=e=>{eb(e.conversations,e.folders),x(e.conversations),m(e.conversations[e.conversations.length-1]),d(e.folders)},F=e=>{m(e),eh(e)},H=e=>{let t=a[a.length-1],r={id:t?t.id+1:1,name:e},s=[...a,r];d(s),ef(s)},J=e=>{let t=a.filter(t=>t.id!==e);d(t),ef(t);let r=c.map(t=>t.folderId===e?{...t,folderId:0}:t);x(r),eg(r)},$=(e,t)=>{let r=a.map(r=>r.id===e?{...r,name:t}:r);d(r),ef(r)},W=()=>{let e=c[c.length-1],t={id:e?e.id+1:1,name:"".concat(r("Conversation")," ").concat(e?e.id+1:1),messages:[],model:i[s.GPT_3_5],prompt:O,folderId:0},a=[...c,t];m(t),x(a),eh(t),eg(a),h(!1)},B=e=>{let t=c.filter(t=>t.id!==e.id);x(t),eg(t),t.length>0?(m(t[t.length-1]),eh(t[t.length-1])):(m({id:1,name:"New conversation",messages:[],model:i[s.GPT_3_5],prompt:O,folderId:0}),localStorage.removeItem("selectedConversation"))},q=(e,t)=>{let r={...e,[t.key]:t.value},{single:a,all:s}=ep(r,c);m(a),x(s)},Y=()=>{x([]),localStorage.removeItem("conversationHistory"),m({id:1,name:"New conversation",messages:[],model:i[s.GPT_3_5],prompt:O,folderId:0}),localStorage.removeItem("selectedConversation"),d([]),localStorage.removeItem("folders")},X=(e,t)=>{if(u){let r=u.messages.map((e,r)=>{if(r<t)return e}).filter(e=>e),a={...u,messages:r},{single:s,all:l}=ep(a,c);m(s),x(l),T(e)}};return(0,n.useEffect)(()=>{E&&(Z(E),T(void 0))},[E]),(0,n.useEffect)(()=>{window.innerWidth<640&&k(!1)},[u]),(0,n.useEffect)(()=>{N&&D(N)},[N]),(0,n.useEffect)(()=>{let e=localStorage.getItem("theme");e&&b(e);let r=localStorage.getItem("apiKey");r?(C(r),D(r)):t&&D(""),window.innerWidth<640&&k(!1);let a=localStorage.getItem("folders");a&&d(JSON.parse(a));let l=localStorage.getItem("conversationHistory");if(l){let e=JSON.parse(l),t=eo(e);x(t)}let n=localStorage.getItem("selectedConversation");if(n){let e=JSON.parse(n),t=en(e);m(t)}else m({id:1,name:"New conversation",messages:[],model:i[s.GPT_3_5],prompt:O,folderId:0})},[t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(ey(),{children:[(0,l.jsx)("title",{children:"Chatbot UI"}),(0,l.jsx)("meta",{name:"description",content:"ChatGPT but better."}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),u&&(0,l.jsxs)("main",{className:"flex h-screen w-screen flex-col text-sm text-white dark:text-white ".concat(v),children:[(0,l.jsx)("div",{className:"fixed top-0 w-full sm:hidden",children:(0,l.jsx)(U,{selectedConversation:u,onNewConversation:W})}),(0,l.jsxs)("div",{className:"flex h-full w-full pt-[48px] sm:pt-0",children:[y?(0,l.jsxs)("div",{children:[(0,l.jsx)(em,{loading:w,conversations:c,lightMode:v,selectedConversation:u,apiKey:N,folders:a,onToggleLightMode:A,onCreateFolder:H,onDeleteFolder:J,onUpdateFolder:$,onNewConversation:W,onSelectConversation:F,onDeleteConversation:B,onToggleSidebar:()=>k(!y),onUpdateConversation:q,onApiKeyChange:G,onClearConversations:Y,onExportConversations:R,onImportConversations:K}),(0,l.jsx)(M.Z,{className:"fixed top-5 left-[270px] z-50 h-7 w-7 cursor-pointer hover:text-gray-400 dark:text-white dark:hover:text-gray-300 sm:top-0.5 sm:left-[270px] sm:h-8 sm:w-8 sm:text-neutral-700",onClick:()=>k(!y)}),(0,l.jsx)("div",{onClick:()=>k(!y),className:"absolute top-0 left-0 z-10 h-full w-full bg-black opacity-70 sm:hidden"})]}):(0,l.jsx)(ew.Z,{className:"fixed top-2.5 left-4 z-50 h-7 w-7 cursor-pointer text-white hover:text-gray-400 dark:text-white dark:hover:text-gray-300 sm:top-0.5 sm:left-4 sm:h-8 sm:w-8 sm:text-neutral-700",onClick:()=>k(!y)}),(0,l.jsx)(L,{conversation:u,messageIsStreaming:w,apiKey:N,serverSideApiKeyIsSet:t,modelError:P,messageError:S,models:g,loading:p,onSend:Z,onUpdateConversation:q,onEditMessage:X,stopConversationRef:_})]})]})]})};var eP=eI}},function(e){e.O(0,[879,769,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);